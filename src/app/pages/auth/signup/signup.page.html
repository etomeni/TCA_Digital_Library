<ion-header [translucent]="true" class="ion-no-border">
  <ion-toolbar>
    <h1 style="margin: 0; padding-left: 10px;">
      <span style="color: #de2341;">TCA </span> <span style="color: white;">Digital Library</span>
    </h1>

    <ion-buttons slot="end">
      <ion-menu-button menu="main-menu" style="color: white;"></ion-menu-button>
    </ion-buttons>

  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">

  <ion-grid class="wrapper-outter">
    <ion-row>
      <ion-col size="12" class="yCenter">
        <div class="wrapper-inner">
          <h2 style="padding: 7px;"> Add New <span style="color: #de2341;"> Administrator</span>!</h2>

          <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">

            <div data-info="name input">
              <ion-item lines="none" style="border-radius: 10px 10px 0 0;">
                <ion-label position="floating">Full Name(s) <ion-text color="danger">*</ion-text></ion-label>
                <ion-input required minlength="3" formControlName="name" autocomplete="name" type="text" placeholder="Enter Full Name"></ion-input>
              </ion-item>
  
              <span class="error ion-padding" 
                *ngIf="signupForm.get('name').touched && signupForm.get('name').dirty && signupForm.get('name').invalid"
              >
                <span class="error ion-padding" *ngIf="signupForm.get('name').errors?.required">
                  Please Enter your name
                </span>
                <span class="error ion-padding" *ngIf="signupForm.get('name').errors?.minlength">
                  Name characters should be more than 3 characters.
                </span>
              </span>
            </div>
  
            <div data-info="email input">
              <ion-item lines="none">
                <ion-label position="floating">E-Mail <ion-text color="danger">*</ion-text></ion-label>
                <ion-input required minlength="5" formControlName="email" type="email" autocomplete="email" placeholder="Enter your E-mail address"></ion-input>
              </ion-item>
  
              <span class="error ion-padding" 
                *ngIf="signupForm.get('email').touched && signupForm.get('email').dirty && signupForm.get('email').invalid"
              >
                <span class="error ion-padding" *ngIf="signupForm.get('email').errors?.required">
                  Please Enter your Email address.
                </span>
                <span class="error ion-padding" *ngIf="signupForm.get('email').errors?.pattern || signupForm.get('email').errors?.email">
                  Incorrect Email address.
                </span>
              </span>
            </div>
                  
            <div data-info="password input">
              <ion-item lines="none">
                <ion-label position="floating">Password <ion-text color="danger">*</ion-text></ion-label>
                <ion-input required minlength="6" formControlName="password" type="password" autocomplete="password" placeholder="Please Enter a Password"></ion-input>
              </ion-item>

              <span class="error ion-padding" 
                *ngIf="signupForm.get('password').touched && signupForm.get('password').dirty && signupForm.get('password').invalid"
              >
                <span class="error" *ngIf="signupForm.get('password').errors?.required;">
                  Please Enter a Password.
                </span>
                <span class="error" *ngIf="signupForm.get('password').errors?.minlength;">
                  Password must be more than 6 characters.
                </span>
              </span>
            </div>
        
            <div data-info="confirm-password input">
              <ion-item lines="none" style="border-radius: 0 0 10px 10px;">
                <ion-label position="floating">Confirm Password <ion-text color="danger">*</ion-text></ion-label>
                <ion-input formControlName="cPassword" required minlength="6" type="password" autocomplete="password" placeholder="Re-enter to confirm your password..."></ion-input>
              </ion-item>

              <span class="error ion-padding" 
                *ngIf="signupForm.get('cPassword').touched && signupForm.get('cPassword').dirty"
              >
                <span class="error" *ngIf="signupForm.get('cPassword').errors?.required;">
                  Please confirm the password.
                </span>
                <span class="error" *ngIf="signupForm.get('cPassword').errors?.minlength">
                  Incorrect Password.
                </span>
                <span class="error" *ngIf="signupForm.get('password').value != signupForm.get('cPassword').value">
                  Password so not match.
                </span>
              </span>
            </div>

            <div *ngIf="sent" style="background-color: #de2341; color: white; text-align: center; border-radius: 10px;">
              <p style="padding-top: 15px; padding-bottom: 15px;">
                New admin added successfully!!!
              </p>
            </div>

            <ion-button block type="submit" [disabled]="signupForm.invalid || submitted" mode="md" style="--background: #de2341;">
              Add New Admin <i *ngIf="submitted" class="loader"></i>
            </ion-button>
          </form>
        </div>

      </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>
